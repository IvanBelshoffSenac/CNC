# =================================================================
# SISTEMA CNC - CONFIGURAÇÕES DOCKER (EXEMPLO)
# =================================================================
# Copie este arquivo para .env.docker e configure com seus valores

# -----------------------------------------------------------------
# AMBIENTE DE EXECUÇÃO
# -----------------------------------------------------------------
NODE_ENV=production

# -----------------------------------------------------------------
# CONFIGURAÇÕES DO BANCO DE DADOS MYSQL (DOCKER)
# -----------------------------------------------------------------
# Host do servidor MySQL (IP do host ou nome do container)
# Para container MySQL separado: use o nome do container
# Para banco no host: use o IP da máquina host
HOST=localhost

# Usuário do banco de dados (SEM aspas para Docker)
DB_USER=fecomercio

# Nome do banco de dados (SEM aspas para Docker)
DB_NAME=cnc

# Porta do MySQL
DB_PORT=3306

# Senha do usuário do banco (SEM aspas para Docker)
PASSWORD=sua_senha_aqui

# -----------------------------------------------------------------
# CREDENCIAIS PARA WEB SCRAPING
# -----------------------------------------------------------------
# Email de acesso ao site da CNC (necessário para web scraping)
CREDENTIALS_USER=seu_email@empresa.com.br

# Senha de acesso ao site da CNC
CREDENTIALS_PASSWORD=sua_senha_cnc

# -----------------------------------------------------------------
# URLs DA API E SITES CNC
# -----------------------------------------------------------------
# URL base da API para download direto das planilhas
BASE_URL=https://backend.pesquisascnc.com.br/admin/4/upload

# URL do site ICEC para web scraping
BASE_URL_SITE_ICEC=https://pesquisascnc.com.br/pesquisa-icec/

# URL do site ICF para web scraping
BASE_URL_SITE_ICF=https://pesquisascnc.com.br/pesquisa-icf/

# URL do site PEIC para web scraping
BASE_URL_SITE_PEIC=https://pesquisascnc.com.br/pesquisa-peic/

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE EMAIL/SMTP
# -----------------------------------------------------------------
# Servidor SMTP para envio de notificações
EXCHANGE_HOST=smtp.office365.com

# Porta do servidor SMTP (587 para TLS, 465 para SSL)
EXCHANGE_PORT=587

# Email remetente das notificações
MAIL_USERNAME=seu_email@empresa.com.br

# Senha do email remetente
MAIL_PASSWORD=sua_senha_email

# Email destinatário das notificações (separar múltiplos por vírgula)
NOTIFICATION_EMAIL=destinatario@empresa.com.br

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE AGENDAMENTO
# -----------------------------------------------------------------
# Configurações CRON para execução automática dos serviços
# Formato: "segundo minuto hora dia mês dia_da_semana"
# Exemplos:
#   "0 2 1 * *" = Todo dia 1 do mês às 02:00
#   "0 30 14 * * 1" = Toda segunda-feira às 14:30
#   "0 0 */6 * *" = A cada 6 horas

# Coleta ICEC - padrão: primeiro dia do mês às 02:00
SCHEDULE_ICEC=0 2 1 * *

# Coleta ICF - padrão: primeiro dia do mês às 05:00
SCHEDULE_ICF=0 5 1 * *

# Coleta PEIC - padrão: primeiro dia do mês às 08:00
SCHEDULE_PEIC=0 8 1 * *

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE PERÍODOS DE COLETA
# -----------------------------------------------------------------
# Formato: MM/YYYY:OFFSET_OU_DATA_FIM
# OFFSET (relativo ao mês atual): > (atual), -1M (anterior), -2M (2 meses antes)
# DATA_FIM (específica): MM/YYYY (ex: 05/2025)

# ICEC: Coleta de Janeiro/2010 até mês anterior ao atual
# Dados ICEC ficam disponíveis no mês seguinte
PERIOD_ICEC=01/2010:-1M

# ICF: Coleta de Janeiro/2010 até dois meses anteriores ao atual  
# Dados ICF ficam disponíveis com 2 meses de atraso
PERIOD_ICF=01/2010:-2M

# PEIC: Coleta de Janeiro/2010 até mês anterior ao atual
# Dados PEIC ficam disponíveis no mês seguinte
PERIOD_PEIC=01/2010:-1M

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE REGIÕES
# -----------------------------------------------------------------
# Lista de regiões separadas por vírgula (sem espaços)
# Códigos disponíveis: BR (Brasil), ES (Espírito Santo), RJ, SP, MG, etc.

# Regiões para coleta ICEC
REGIONS_ICEC=BR,ES

# Regiões para coleta ICF
REGIONS_ICF=BR,ES

# Regiões para coleta PEIC
REGIONS_PEIC=BR,ES

# -----------------------------------------------------------------
# HABILITA/DESABILITA COLETAS
# -----------------------------------------------------------------
# Defina como true para habilitar ou false para desabilitar
# a coleta automática de cada pesquisa
# Se não especificado, considera como true (habilitado)
ENABLED_ICEC=true
ENABLED_ICF=true
ENABLED_PEIC=true

# -----------------------------------------------------------------
# CONFIGURAÇÕES ESPECÍFICAS DOCKER
# -----------------------------------------------------------------
# Playwright configurado para usar browsers do host
PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1

# Timezone para container
TZ=America/Sao_Paulo

# Node.js optimization for container
NODE_OPTIONS=--max-old-space-size=2048

# =================================================================
# INSTRUÇÕES DE USO
# =================================================================
# 1. Copie este arquivo para .env.docker:
#    cp .env.docker.example .env.docker
#
# 2. Configure os valores específicos do seu ambiente:
#    - HOST: IP do seu servidor MySQL
#    - DB_USER, DB_NAME, PASSWORD: credenciais do banco
#    - CREDENTIALS_USER/PASSWORD: acesso ao site CNC
#    - MAIL_*: configurações de email
#
# 3. IMPORTANTE: Remova as aspas duplas dos valores!
#    Correto:   HOST=10.27.4.136
#    Incorreto: HOST="10.27.4.136"
#
# 4. Execute o deploy:
#    .\scripts\deploy.ps1